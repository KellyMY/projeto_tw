<style>
    body {
        margin: 0;
        padding: 0;
        background: #e0e0e0;
        font-family: system-ui;
    }

    .position_absolute {
        position: absolute;
    }

    .position_relative {
        position: relative;
    }

    .side_by_side {
        margin: 5px;
        padding: 15px 10px;
        display: inline-block;
        vertical-align: top;
    }

    .profile {
        width: 20%;
        text-align: center;
        margin-top: 20px;
        background: #FFFFFF;
        border-radius: 0px;
        background: #e0e0e0;
        box-shadow: 5px 5px 10px #bebebe,
            -5px -5px 10px #ffffff;
    }


    .profile div {
        margin-bottom: 8px;
    }

    .button_orange {
        color: #FFF;
        padding: 5px 20px;
        background: #FC6A03;
        border: none;
        border: 1px solid #EC9706;
        border-radius: 20px;
        /* font-size: 15px; */
        font-weight: bold;
    }

    .button_orange:hover {
        color: #FFF;
        cursor: pointer;
        background: #EC9706;
        /* border: none;
        border: 1px solid #82560D */
    }

    .button_blue {
        padding: 5px 20px;
        color: #FFF;
        background: #128FC8;
        border: none;
        border: 1px solid #1E80C1;
        border-radius: 20px;
        /* font-size: 15px; */
        font-weight: bold;
    }

    .button_blue:hover {
        color: #FFF;
        cursor: pointer;
        background: #2ECBE9;
        /* border: none;
        border: 1px solid #82560D */
    }

    .button_grey {
        padding: 5px 20px;
        color: #FFF;
        background: #4d4e4f;
        border: none;
        border: 1px solid #0b0b0b;
        border-radius: 20px;
        /* font-size: 15px; */
        font-weight: bold;
    }

    .button_grey:hover {
        color: #FFF;
        cursor: pointer;
        background: #8d9192;
        /* border: none;
        border: 1px solid #82560D */
    }

    .card {
        padding: 5px 5px;
        width: 100%;
        border-radius: 0px;
        background: #e0e0e0;
        box-shadow: 5px 5px 10px #bebebe,
            -5px -5px 10px #ffffff;
    }

    /* .profile:hover{
        -webkit-box-shadow: none;
-moz-box-shadow: none;
box-shadow: none;
    } */

    .circulo_perfil {
        /* top: -15px; */
        right: -85px;
        height: 100px;
        width: 100px;
        border-radius: 50px;
        background: black;
        position: relative;
    }

    .circulo_perfil:hover {
        cursor: pointer;
    }

    .circulo_perfil_menor {
        top: -200px;
        /* right: -85px; */
        height: 50px;
        width: 50px;
        border-radius: 50px;
        background: black;
        position: relative;
    }

    .circulo_perfil_menor:hover {
        cursor: pointer;
    }

    .circulo_perfil_menor_comentado {
        top: -30px;
        /* right: -85px; */
        height: 50px;
        width: 50px;
        border-radius: 50px;
        background: black;
        position: relative;
    }

    .circulo_perfil_menor_comentado:hover {
        cursor: pointer;
    }

    .circulo {
        top: -15px;
        left: 25px;
        height: 50px;
        width: 50px;
        border-radius: 50px;
        background: black;
        position: relative;
    }

    .circulo:hover {
        cursor: pointer;
    }

    .title_card {
        font-weight: bold;
        font-size: 20px;
        left: 80px;
        top: -30px;
        position: relative;
    }

    .title_card:hover {
        cursor: pointer;
    }

    .datetime_card {
        left: 80px;
        color: #5e5e5e;
        font-size: 12px;
        font-weight: bold;
        position: relative;
    }

    .datetime_post {
        color: #5e5e5e;
        font-size: 13px;
        font-weight: bold;
    }

    .text_post {
        margin-top: 15px;
    }

    .image {
        height: 150px;
        width: 100%;
        background: #9c9c9c;
    }

    .cursor_pointer:hover {
        cursor: pointer;
    }

    a {
        color: #000000;
        text-decoration: none;
    }

    .success {
        color: #00c04b;
        font-weight: bold;
    }

    .error {
        color: #ff0000;
        font-weight: bold;
    }

    .div_image{
        margin-top: 15px;
        width: 100%;
        height: 350px;
        background: black;
        border-radius: 20px;
    }

    .imagem_banner{
        height:100%;
        width: 100%;
        object-fit: cover;
        border-radius: 20px;
    }

    .imagem{
        max-height: 100%;
        max-width: 100%;
        height: 100%;
        width: auto;
        border-radius: 50px;
        background-size: cover;
        object-fit: cover;
    }

    @media screen and (max-width: 1089px) {
        .side_by_side {
            width: 100%;
        }
    }
</style>

<div style="width: 100%" class="">
    <div class="side_by_side profile">
        <!-- {{post.0.user_name.username}} -->
        {% if post %}
        {% for pst in post %}
        <!-- Do usuário logado -->
        <!-- {{pst}} -->
        <div>
            <!-- <a href="">Icone</a> -->
            <div class="circulo_perfil" title="nome">
                <img src="{{user_image}}" class="imagem"/>
            </div>
        </div>
        <div><strong>{{pst.username}}</strong></div>
        <div>
            <!-- active, email, follower_user, following_user, id, password, username, usernames -->
            <div><strong>{{follower}} Seguidores</strong></div>
            <div><strong>{{following}} Seguindo</strong></div>
            
            {% if is_user == False %}
            {% if follow %}
            <form action="{% url 'unfollow' %}" method="POST">{% csrf_token %}
                <input type="text" hidden name="profile_id_un" value="{{pst.user_name_id}}">
                <button class="button_grey">Unfollow</button>
            </form>
            {% else %}
            <form action="{% url 'follow' %}" method="POST">{% csrf_token %}
                <input type="text" hidden name="profile_id" value="{{pst.user_name_id}}">
                <button class="button_blue">Follow</button>
            </form>
            {% endif %}

            {% endif %}

            <form action="{% url 'back_home' %}" method="POST">{% csrf_token %}
                <div>
                    <button type="submit" class="button_grey">Home</button>
                </div>
            </form>
            <div>
                {% if messages %}
                {% for message in messages %}
                <span class="{{message.tags}}">{{message}}
                    {% endfor %}
                    {% endif %}
            </div>

            <!-- <div><button class="button_blue">Seguir</button></div> -->
            <!-- <form action="{% url 'posts' %}" method="GET">{% csrf_token %}
                <button class="button_blue">Postar</button>
            </form> -->
        </div>
        {% endfor %}
        {% endif %}

        <!-- Visualização de outros usuários -->
        <!-- <div><a href="">Icone</a></div>
        <div class="cursor_pointer"><strong>NOME TAL</strong></div>
        <div><strong>0 Seguidores</strong></div>
        <div><strong>0 Seguindo</strong></div>
        <div><button class="button_blue">Seguir</button></div> -->


    </div>
    <div class="side_by_side" style="width: 74%;height: 500px;">

        <!-- Listagem das postagens -->
        {% if post %}
        {% for p in post %}
        <!-- {{p.user_name.username}} -->
        <div style="padding: 15px 15px;
            margin-bottom: 30px;
            width: 100%;
            border-radius: 0px;
            background: #e0e0e0;
            box-shadow: 5px 5px 10px #bebebe,
                -5px -5px 10px #ffffff;min-height: 100%;">
            <div style="font-size: 20px;"><strong>{{p.title}}</strong></div>
            <div class="datetime_post">{{p.username}} • {{p.created_at}}</div>
            <div class="div_image">
                <img src="../media/post/{{p.post_image}}" alt="Capa" class="imagem_banner">
            </div>
            <div class="text_post">
                {{p.description}}
            </div>





            <div>
                <!-- <a href="">Icone</a> -->
                <div class="circulo_perfil_menor" title="nome" style="display: inline-block;">
                    <img href="" />
                </div>
                <div
                    style="display: inline-block; height:50px; width: 90%; position: relative; bottom: -30px; margin-left: 15px;">
                    <form action="{% url 'comment' %}" method="POST">{% csrf_token %}
                        <input name="post_id" value="{{p.id}}" hidden>
                        <textarea
                            style="height: 100%; width: 100%; font-size: 20px; border-radius: 20px; border: 1px solid #000000; padding-left: 15px;height:200px;"
                            placeholder="Comente aqui!" name="comment"></textarea>
                        <button class="button_blue" style="margin-left: 90%; margin-top: 15px;">Save</button>

                    </form>
                </div>
                <hr>
                <div style="text-align: center; width: 100%;">
                    <h3>Last comments</h3>
                </div>

                {% if commentary %}
                {% for c in commentary %}
                <div style="width:100%;">
                    <div class="circulo_perfil_menor_comentado" title="nome" style="display: inline-block;">
                        <img href="" />
                    </div>

                    {% if c.date_diferenca_hours > 24 %}
                    <div
                        style="display: inline-block; height:50px; width: 90%; position: relative; bottom: -40px; margin-left: 15px;">
                        {% if user_id == c.user_name_id %}
                        <span style="color:#7a7c7c; width: 100%;">{{c.username}} • {{c.date_commentary}} </span>
                        {% else %}
                        <span style="color:#7a7c7c; width: 100%;"><a href="{% url 'profile' c.user_name_id %}">{{c.username}}</a> • {{c.date_commentary}}</span>
                        {% endif %}
                        <p>{{c.comment}}</p>
                    </div>
                    {% else %}
                        {% if c.date_diferenca_hours > 0 %}
                        <div
                            style="display: inline-block; height:50px; width: 90%; position: relative; bottom: -40px; margin-left: 15px;">
                            {% if user_id == c.user_name_id %}
                            <span style="color:#7a7c7c; width: 100%;">{{c.username}} • {{c.date_diferenca_hours}} hours Ago
                            {% else %}
                            <span style="color:#7a7c7c; width: 100%;"><a href="{% url 'profile' c.user_name_id %}">{{c.username}}</a> • {{c.date_diferenca_hours}} hours Ago
                            {% endif %}
                            </span>
                            <p>{{c.comment}}</p>
                        </div>
                        {% else %}
                            {% if c.date_diferenca_minutes > 0 %}
                            <div
                                style="display: inline-block; height:50px; width: 90%; position: relative; bottom: -40px; margin-left: 15px;">
                                {% if user_id == c.user_name_id %}
                                <span style="color:#7a7c7c; width: 100%;">{{c.username}} • {{c.date_diferenca_minutes}} minutes Ago
                                {% else %}
                                <span style="color:#7a7c7c; width: 100%;"><a href="{% url 'profile' c.user_name_id %}">{{c.username}}</a> • {{c.date_diferenca_minutes}} minutes Ago
                                {% endif %}
                                </span>
                                <p>{{c.comment}}</p>
                            </div>
                            {% else %}
                            <div
                                style="display: inline-block; height:50px; width: 90%; position: relative; bottom: -40px; margin-left: 15px;">
                                {% if user_id == c.user_name_id %}
                                <span style="color:#7a7c7c; width: 100%;">{{c.username}} • {{c.date_diferenca_seconds}} seconds Ago
                                {% else %}
                                <span style="color:#7a7c7c; width: 100%;"><a href="{% url 'profile' c.user_name_id %}">{{c.username}}</a> • {{c.date_diferenca_seconds}} seconds Ago
                                {% endif %}</span>
                                <p>{{c.comment}}</p>
                            </div>
                            {% endif %}
                        {% endif %}
                    {% endif %}

                </div>
                {% endfor %}
                {% endif %}


                <!-- <div style="width:100%;">
                    <div class="circulo_perfil_menor_comentado" title="nome" style="display: inline-block;">
                        <img href="" />
                    </div>
                    <div
                        style="display: inline-block; height:50px; width: 90%; position: relative; bottom: -40px; margin-left: 15px;">
                        <span style="color:#7a7c7c; width: 100%;">Nome Usuário • 1 hour ago</span>
                        <p>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Beatae facere velit, tenetur
                            necessitatibus iste aliquid recusandae nostrum blanditiis, numquam, atque doloremque! Saepe
                            explicabo rerum vero expedita itaque natus ipsam fuga.
                        </p>
                    </div>
                </div>

                <div style="width:100%;">
                    <div class="circulo_perfil_menor_comentado" title="nome" style="display: inline-block;">
                        <img href="" />
                    </div>
                    <div
                        style="display: inline-block; height:50px; width: 90%; position: relative; bottom: -40px; margin-left: 15px;">
                        <span style="color:#7a7c7c; width: 100%;">Nome Usuário • 1 hour ago</span>
                        <p>
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Beatae facere velit, tenetur
                            necessitatibus iste aliquid recusandae nostrum blanditiis, numquam, atque doloremque! Saepe
                            explicabo rerum vero expedita itaque natus ipsam fuga.
                        </p>
                    </div>
                </div> -->
            </div>
        </div>


        </br>

        {% endfor %}
        {% else %}
        <div class="card" style="padding: 15px 15px;
        margin-bottom: 30px;
        width: 100%;
        border-radius: 0px;
        background: #e0e0e0;
        box-shadow: 5px 5px 10px #bebebe,
            -5px -5px 10px #ffffff;min-height: 100%;">
            <div><strong>Nenhuma postagem encontrada.</strong></div>
        </div>
        {% endif %}



    </div>

</div>